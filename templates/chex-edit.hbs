<form class="flexcol" autocomplete="off">
    <fieldset>
        <legend>{{localize 'CHEX.HEXEDIT.Exploration'}}</legend>
        <div class="form-group">
            <label data-tooltip="CHEX.HEXEDIT.ExplorationTooltip">{{localize 'CHEX.HEXEDIT.Exploration'}}</label>
            <div class="form-fields">
                <select name="exploration">
                    {{selectOptions explorationStates selected=hex.exploration nameAttr="value" labelAttr="label" }}
                </select>
            </div>
        </div>

        <div class="form-group">
            <label data-tooltip="CHEX.HEXEDIT.ClearedTooltip">{{localize 'CHEX.HEXEDIT.Cleared'}}</label>
            <input type="checkbox" name="cleared" {{checked hex.cleared}}>
        </div>

        <div class="form-group">
            <label data-tooltip="CHEX.HEXEDIT.ClaimedTooltip">{{localize 'CHEX.HEXEDIT.Claimed'}}</label>
            <div class="form-fields">
                <select name="claimed">
                    {{selectOptions claimees selected=hex.claimed nameAttr="id" labelAttr="label" blank=""}}
                </select>
            </div>
        </div>
    </fieldset>

    <fieldset>
        <legend>
            {{localize 'CHEX.HEXEDIT.Improvements'}}
            <button type="button" data-action="addImprovement">
                <span>{{localize 'CHEX.HEXEDIT.Add'}}</span>
            </button>
        </legend>
        {{#each hex.improvements as |item i|}}
            {{> (lookup @root "improvementsFrag") id=i key=item.id show=item.show improvements=@root.improvements}}
        {{/each}}
    </fieldset>

    <fieldset>
        <legend>
            {{localize 'CHEX.HEXEDIT.Features'}}
            <button type="button" data-action="addFeature">
                <span>{{localize 'CHEX.HEXEDIT.Add'}}</span>
            </button>
        </legend>
        {{#each hex.features as |item2 i2|}}
            {{> (lookup @root "featuresFrag") id=i2 key=item2.id name=item2.name show=item2.show features=@root.features}}
        {{/each}}
    </fieldset>

    <fieldset>
        <legend>
            {{localize 'CHEX.HEXEDIT.Resources'}}
            <button type="button" data-action="addResource">
                <span>{{localize 'CHEX.HEXEDIT.Add'}}</span>
            </button>
        </legend>
        {{#each hex.resources as |item3 i3|}}
            {{> (lookup @root "resourcesFrag") id=i key=item3.id amount=item3.amount show=item3.show resources=@root.resources}}
        {{/each}}
    </fieldset>

    <fieldset>
        <legend>
            {{localize 'CHEX.HEXEDIT.Forageables'}}
            <button type="button" data-action="addForageable">
                <span>{{localize 'CHEX.HEXEDIT.Add'}}</span>
            </button>
        </legend>
        {{#each hex.forageables as |item4 i4|}}
            {{> (lookup @root "forageablesFrag") id=i4 key=item4.id amount=item4.amount show=item4.show forageables=@root.resources}}
        {{/each}}
    </fieldset>

    <footer>
        <button type="submit">
            <i class="fa-solid fa-save"></i>
            <span>{{localize 'CHEX.HEXEDIT.Save'}}</span>
        </button>
    </footer>
</form>